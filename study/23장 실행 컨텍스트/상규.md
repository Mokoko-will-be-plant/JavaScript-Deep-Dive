# 실행 컨텍스트
## __`자바스크립트의 동작 원리를 담고 있는 핵심 개념`__

### 소스코드의 타입
- 전역 코드 - 전역에 존재하는 소스 코드(전역에 정의된 함수, 클래스 등 내부 코드는 제외)
- 함수 코드 - 함수 내부에 존재하는 코드(중첩 함수, 클래스 등의 내부 함수는 제외)
- eval 코드 - 빌트인 전역 함수인 eval 함수에 인수로 전달되어 실행되는 코드
- 모듈 코드 - 모듈 내부에 존재하는 코드(모듈 내부의 함수, 클래스 등의 내부코드는 제외)

위 4가지 타입의 소스코드는 실행 컨텍스트를 생성한다


### 전역 코드
- 최상위 스코프인 전역 스코프를 생성해야 한다.

### 함수 코드
- 지역 스코프를 생성하고 지역번수, 매개변수, arguments 객체를 관리한다.
- 생성한 지역 스코프를 전역 스코프에서 시작하는 스코프 체인의 일원으로 연결필요

### eval 코드
- strict mode 에서 자신만의 독자적인 스코프를 생성

### 모듈 코드
- 모듈별로 독립적인 모듈 스코프를 생성

> ### 각 코드를 평가하여 실행 컨텍스트를 생성한다


## 자바스크립트 엔진은 '소스코드 평가'와 '소스코드의 실행' 과정으로 나누어 처리한다

- 소스코드 평가
1. 실행컨텍스트 생성
2. 변수, 함수 선언문만 먼저 실행, 생성된 함수 식별자 키로 실행 컨텍스트 스코프에 등록

- 소스코드 실행
1. 소스코드를 순차적으로 실행
2. 소스코드에 필요한 정보를 스코프에서 검색하여 취득
3. 변수 값의 변경 등 소스코드의 실행결과를 다시 컨텍스트 스코프에 등록

## 실행 컨텍스트는 소스코드를 실행하는데 필요한 환경을 제공하고 코드의 실행결과를 실제로 관리하는 영역이다.
-> 식별자를 등록하고 관리하는 스코프와 `코드 실행 순서 관리`를 구현한 내부 메커니즘으로, 모든 코드는 실행 컨텍스트를 통해 실행되고 관리된다.

식별자와 스코프는 실행 컨텍스트의 렉시컬 환경을 관리하고 코드 실행 순서는 실행 컨텍스트 스택으로 관리한다.

## 렉시컬 환경
- 식별자와 식별자에 바인딩 된 값, 상위 스코프에 대한 참조를 기록하는 자료구조
- `스코프와 식별자를 관리`한다


## 전역 코드 평가
1. 전역 실행 컨텍스트 생성
2. 전역 렉시컬 환경 생성
    1. 전역 환경 레코드 생성
        1. 객체 환경 레코드 생성
        2. 선언적 환경 레코드 생성
    2. this 바인딩
    3. 외부 렉시컬 환경에 대한 참조 결정